# Cursor AI 开发规则

## 文件命名规则

### 服务器脚本命名（强制规则）
**所有在服务器上运行的脚本文件（.sh, .bash），文件名必须使用英文，禁止使用中文。**

#### 原因
- 编码兼容性：避免 Linux 服务器上的编码问题
- Git 兼容性：避免 Git 处理中文文件名时的编码问题
- 跨平台兼容性：确保在不同系统上都能正常工作

#### 命名规范
- ✅ **正确示例**：
  - `deploy.sh` - 部署脚本
  - `build-frontend.sh` - 构建前端脚本
  - `restart-services.sh` - 重启服务脚本
  - `check-status.sh` - 检查状态脚本
  - `migrate-database.sh` - 数据库迁移脚本

- ❌ **错误示例**：
  - `服务器部署命令.sh` - 包含中文
  - `部署脚本.sh` - 包含中文
  - `重启服务.sh` - 包含中文

#### 脚本文件命名建议
- 使用小写字母和连字符（hyphen）
- 使用描述性的动词开头：`deploy-`, `build-`, `start-`, `stop-`, `restart-`, `check-`, `migrate-`
- 文件名应该清晰表达脚本的功能

#### 示例命名模式
```
deploy.sh                    # 通用部署脚本
deploy-frontend.sh           # 前端部署
deploy-backend.sh            # 后端部署
build-production.sh          # 生产环境构建
restart-api.sh               # 重启 API 服务
check-services.sh            # 检查服务状态
migrate-db.sh                # 数据库迁移
setup-environment.sh         # 环境设置
backup-database.sh           # 数据库备份
```

## 代码规范

### Shell 脚本基本结构
```bash
#!/bin/bash
# 脚本描述（可以使用中文注释）
# Script description (English)

set -e  # 遇到错误立即退出

# 变量定义
SCRIPT_DIR="$(cd "$(dirname "${BASH_SOURCE[0]}")" && pwd)"
PROJECT_ROOT="/opt/luckyred"

# 函数定义
function deploy() {
    echo "Deploying..."
    # 部署逻辑
}

# 主逻辑
main() {
    deploy
}

# 执行主函数
main "$@"
```

## 检查清单

在创建新的服务器脚本前，AI 助手必须确认：

- [ ] 文件名使用英文
- [ ] 文件名使用小写字母和连字符
- [ ] 文件名清晰表达脚本功能
- [ ] 脚本包含适当的注释
- [ ] 脚本包含错误处理（`set -e`）
- [ ] 脚本已添加执行权限说明（`chmod +x`）

## 相关文档

- [开发规范文档](./docs/开发规范.md)

