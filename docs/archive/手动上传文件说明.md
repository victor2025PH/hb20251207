# æ‰‹åŠ¨ä¸Šä¼ æ–‡ä»¶è¯´æ˜

## ğŸ“ éœ€è¦ä¸Šä¼ çš„æ–‡ä»¶åˆ—è¡¨

### 1. å‘é€çº¢åŒ…é¡µé¢
**æœ¬åœ°è·¯å¾„**: `C:\hbgm001\frontend\src\pages\SendRedPacket.tsx`  
**æœåŠ¡å™¨è·¯å¾„**: `/opt/luckyred/frontend/src/pages/SendRedPacket.tsx`

### 2. å……å€¼é¡µé¢
**æœ¬åœ°è·¯å¾„**: `C:\hbgm001\frontend\src\pages\Recharge.tsx`  
**æœåŠ¡å™¨è·¯å¾„**: `/opt/luckyred/frontend/src/pages/Recharge.tsx`

### 3. æå–é¡µé¢
**æœ¬åœ°è·¯å¾„**: `C:\hbgm001\frontend\src\pages\Withdraw.tsx`  
**æœåŠ¡å™¨è·¯å¾„**: `/opt/luckyred/frontend/src/pages/Withdraw.tsx`

### 4. ç¿»è¯‘æ–‡ä»¶ï¼ˆé‡è¦ï¼‰
**æœ¬åœ°è·¯å¾„**: `C:\hbgm001\frontend\src\providers\I18nProvider.tsx`  
**æœåŠ¡å™¨è·¯å¾„**: `/opt/luckyred/frontend/src/providers/I18nProvider.tsx`

---

## ğŸš€ æ–¹æ³• 1: ä½¿ç”¨ SCP ä¸Šä¼ ï¼ˆæ¨èï¼‰

### åœ¨ PowerShell ä¸­æ‰§è¡Œï¼š

```powershell
# 1. ä¸Šä¼ å‘é€çº¢åŒ…é¡µé¢
scp C:\hbgm001\frontend\src\pages\SendRedPacket.tsx ubuntu@165.154.254.99:/opt/luckyred/frontend/src/pages/SendRedPacket.tsx

# 2. ä¸Šä¼ å……å€¼é¡µé¢
scp C:\hbgm001\frontend\src\pages\Recharge.tsx ubuntu@165.154.254.99:/opt/luckyred/frontend/src/pages/Recharge.tsx

# 3. ä¸Šä¼ æå–é¡µé¢
scp C:\hbgm001\frontend\src\pages\Withdraw.tsx ubuntu@165.154.254.99:/opt/luckyred/frontend/src/pages/Withdraw.tsx

# 4. ä¸Šä¼ ç¿»è¯‘æ–‡ä»¶
scp C:\hbgm001\frontend\src\providers\I18nProvider.tsx ubuntu@165.154.254.99:/opt/luckyred/frontend/src/providers/I18nProvider.tsx
```

### ä¸Šä¼ å®Œæˆåï¼Œåœ¨æœåŠ¡å™¨ä¸Šæ‰§è¡Œï¼š

```bash
# SSH è¿æ¥åˆ°æœåŠ¡å™¨
ssh ubuntu@165.154.254.99

# è¿›å…¥å‰ç«¯ç›®å½•
cd /opt/luckyred/frontend

# åˆ é™¤æ—§çš„æ„å»ºæ–‡ä»¶
rm -rf dist node_modules/.vite

# é‡æ–°æ„å»º
npm run build

# é‡å¯æœåŠ¡
cd ..
sudo systemctl restart luckyred-api
sudo systemctl restart luckyred-bot
sudo systemctl reload nginx
```

---

## ğŸš€ æ–¹æ³• 2: ä½¿ç”¨ WinSCP æˆ– FileZillaï¼ˆå›¾å½¢ç•Œé¢ï¼‰

### ä½¿ç”¨ WinSCPï¼š

1. ä¸‹è½½å¹¶å®‰è£… WinSCP
2. è¿æ¥åˆ°æœåŠ¡å™¨ï¼š
   - ä¸»æœºåï¼š`165.154.254.99`
   - ç”¨æˆ·åï¼š`ubuntu`
   - å¯†ç ï¼šæ‚¨çš„æœåŠ¡å™¨å¯†ç 
3. å¯¼èˆªåˆ°æœåŠ¡å™¨è·¯å¾„ï¼š`/opt/luckyred/frontend/src/pages/`
4. ä»æœ¬åœ°æ‹–æ‹½æ–‡ä»¶åˆ°æœåŠ¡å™¨ï¼š
   - `SendRedPacket.tsx`
   - `Recharge.tsx`
   - `Withdraw.tsx`
5. å¯¼èˆªåˆ°ï¼š`/opt/luckyred/frontend/src/providers/`
6. ä¸Šä¼ ï¼š`I18nProvider.tsx`

### ä¸Šä¼ å®Œæˆåï¼Œåœ¨æœåŠ¡å™¨ä¸Šæ‰§è¡Œæ„å»ºï¼š

```bash
cd /opt/luckyred/frontend
rm -rf dist node_modules/.vite
npm run build
cd ..
sudo systemctl restart luckyred-api
sudo systemctl restart luckyred-bot
sudo systemctl reload nginx
```

---

## ğŸš€ æ–¹æ³• 3: ç›´æ¥åœ¨æœåŠ¡å™¨ä¸Šç¼–è¾‘ï¼ˆå¦‚æœä¸Šä¼ å¤±è´¥ï¼‰

### è¿æ¥åˆ°æœåŠ¡å™¨ï¼š

```bash
ssh ubuntu@165.154.254.99
cd /opt/luckyred/frontend/src/pages
```

### ç¼–è¾‘ SendRedPacket.tsxï¼š

```bash
nano SendRedPacket.tsx
```

æ‰¾åˆ°ç¬¬ 411 è¡Œï¼ˆæˆ–æœç´¢ `'Star'`ï¼‰ï¼Œç¡®ä¿æ˜¯ï¼š
```typescript
{['USDT', 'TON', 'Stars'].map((c) => (
```

**ä¸æ˜¯**ï¼š
```typescript
{['USDT', 'TON', 'Star'].map((c) => (
```

ä¿å­˜ï¼š`Ctrl + O`ï¼Œç„¶å `Enter`ï¼Œé€€å‡ºï¼š`Ctrl + X`

### åŒæ ·ç¼–è¾‘å…¶ä»–æ–‡ä»¶ï¼š

```bash
nano Recharge.tsx
# æ‰¾åˆ°å¸ç§é€‰æ‹©éƒ¨åˆ†ï¼Œç¡®ä¿æ˜¯ 'Stars'
```

```bash
nano Withdraw.tsx
# æ‰¾åˆ°å¸ç§é€‰æ‹©éƒ¨åˆ†ï¼Œç¡®ä¿æ˜¯ 'Stars'
```

```bash
cd ../providers
nano I18nProvider.tsx
# æ£€æŸ¥æ‰€æœ‰ 'Star' æ˜¯å¦éƒ½æ˜¯ 'Stars'
```

---

## âœ… ä¸Šä¼ åéªŒè¯æ­¥éª¤

### 1. éªŒè¯æ–‡ä»¶å·²ä¸Šä¼ ï¼š

```bash
# åœ¨æœåŠ¡å™¨ä¸Šæ‰§è¡Œ
cd /opt/luckyred/frontend/src/pages
grep -n "'Stars'" SendRedPacket.tsx
# åº”è¯¥çœ‹åˆ°ï¼š411:            {['USDT', 'TON', 'Stars'].map((c) => (
```

### 2. é‡æ–°æ„å»ºï¼š

```bash
cd /opt/luckyred/frontend
rm -rf dist node_modules/.vite
npm run build
```

### 3. éªŒè¯æ„å»ºæ–‡ä»¶ï¼š

```bash
grep -o "Stars" dist/assets/SendRedPacket-*.js | head -3
# åº”è¯¥çœ‹åˆ°è¾“å‡º
```

### 4. é‡å¯æœåŠ¡ï¼š

```bash
cd /opt/luckyred
sudo systemctl restart luckyred-api
sudo systemctl restart luckyred-bot
sudo systemctl reload nginx
```

---

## ğŸ“ å¿«é€Ÿæ£€æŸ¥å‘½ä»¤

ä¸Šä¼ æ–‡ä»¶åï¼Œåœ¨æœåŠ¡å™¨ä¸Šæ‰§è¡Œè¿™ä¸ªå‘½ä»¤æ£€æŸ¥ï¼š

```bash
cd /opt/luckyred/frontend/src/pages && \
echo "æ£€æŸ¥ SendRedPacket.tsx:" && \
grep -n "'Stars'" SendRedPacket.tsx && \
echo "" && \
echo "æ£€æŸ¥ Recharge.tsx:" && \
grep -n "'Stars'" Recharge.tsx && \
echo "" && \
echo "æ£€æŸ¥ Withdraw.tsx:" && \
grep -n "'Stars'" Withdraw.tsx
```

å¦‚æœæ‰€æœ‰æ–‡ä»¶éƒ½æ˜¾ç¤º `'Stars'`ï¼Œè¯´æ˜æ–‡ä»¶å·²æ­£ç¡®ä¸Šä¼ ã€‚

---

## âš ï¸ é‡è¦æç¤º

1. **æ–‡ä»¶è·¯å¾„å¿…é¡»æ­£ç¡®**ï¼šç¡®ä¿ä¸Šä¼ åˆ°æ­£ç¡®çš„æœåŠ¡å™¨è·¯å¾„
2. **æ–‡ä»¶æƒé™**ï¼šä¸Šä¼ åç¡®ä¿æ–‡ä»¶æƒé™æ­£ç¡®ï¼ˆé€šå¸¸ä¸éœ€è¦ä¿®æ”¹ï¼‰
3. **å¿…é¡»é‡æ–°æ„å»º**ï¼šä¸Šä¼ æ–‡ä»¶åå¿…é¡»è¿è¡Œ `npm run build`
4. **å¿…é¡»é‡å¯æœåŠ¡**ï¼šæ„å»ºåå¿…é¡»é‡å¯æœåŠ¡

---

## ğŸ” å¦‚æœä»ç„¶ä¸å·¥ä½œ

å¦‚æœä¸Šä¼ åä»ç„¶æ˜¾ç¤º "Star"ï¼Œè¯·æ£€æŸ¥ï¼š

1. **æ–‡ä»¶æ˜¯å¦çœŸçš„ä¸Šä¼ æˆåŠŸ**ï¼š
   ```bash
   ls -lh /opt/luckyred/frontend/src/pages/SendRedPacket.tsx
   ```

2. **æ–‡ä»¶å†…å®¹æ˜¯å¦æ­£ç¡®**ï¼š
   ```bash
   cat /opt/luckyred/frontend/src/pages/SendRedPacket.tsx | grep -A 2 "'Star"
   ```

3. **æ„å»ºæ˜¯å¦æˆåŠŸ**ï¼š
   ```bash
   ls -lh /opt/luckyred/frontend/dist/assets/SendRedPacket-*.js
   ```

4. **Nginx æ˜¯å¦æŒ‡å‘æ­£ç¡®ç›®å½•**ï¼š
   ```bash
   sudo grep -r "root" /etc/nginx/sites-enabled/ | grep luckyred
   ```
