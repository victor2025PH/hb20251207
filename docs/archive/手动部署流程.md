# æ‰‹åŠ¨éƒ¨ç½²æµç¨‹

## ğŸ“‹ éƒ¨ç½²å‰å‡†å¤‡

### 1. æ£€æŸ¥æœ¬åœ°ä»£ç çŠ¶æ€
```powershell
cd C:\hbgm001
git status
```

### 2. æäº¤æ‰€æœ‰æ›´æ”¹
```powershell
# æ·»åŠ æ‰€æœ‰æ›´æ”¹
git add -A

# æäº¤æ›´æ”¹ï¼ˆè¯·æ ¹æ®å®é™…ä¿®æ”¹å†…å®¹å¡«å†™æäº¤ä¿¡æ¯ï¼‰
git commit -m "æ›´æ–°ï¼šä¿®æ­£å¸ç§ä¸ºä¸‰ç§ï¼ˆUSDTã€TONã€Starsï¼‰ï¼Œæ·»åŠ å¸ç§è·å–æ–¹å¼å¼¹çª—ï¼Œæ·»åŠ å……å€¼å’Œæå–è§„åˆ™å¼¹çª—"

# æ¨é€åˆ° GitHub
git push origin master
```

---

## ğŸš€ æœåŠ¡å™¨éƒ¨ç½²æ­¥éª¤

### æ­¥éª¤ 1: è¿æ¥åˆ°æœåŠ¡å™¨
```bash
ssh ubuntu@165.154.254.99
```

### æ­¥éª¤ 2: è¿›å…¥åº”ç”¨ç›®å½•
```bash
cd /opt/luckyred
```

### æ­¥éª¤ 3: æ‹‰å–æœ€æ–°ä»£ç 
```bash
# æ£€æŸ¥å½“å‰åˆ†æ”¯
git branch

# æ‹‰å–æœ€æ–°ä»£ç 
git fetch origin
git reset --hard origin/master

# æ¸…ç†æœªè·Ÿè¸ªçš„æ–‡ä»¶ï¼ˆå¯é€‰ï¼‰
git clean -fd
```

### æ­¥éª¤ 4: æ›´æ–° API ä¾èµ–ï¼ˆå¦‚æœéœ€è¦ï¼‰
```bash
cd /opt/luckyred/api

# æ¿€æ´»è™šæ‹Ÿç¯å¢ƒ
source .venv/bin/activate

# æ›´æ–°ä¾èµ–ï¼ˆå¦‚æœæœ‰æ–°çš„ä¾èµ–ï¼‰
pip install -r requirements.txt

# é€€å‡ºè™šæ‹Ÿç¯å¢ƒ
deactivate
```

### æ­¥éª¤ 5: æ›´æ–° Bot ä¾èµ–ï¼ˆå¦‚æœéœ€è¦ï¼‰
```bash
cd /opt/luckyred/bot

# æ¿€æ´»è™šæ‹Ÿç¯å¢ƒ
source .venv/bin/activate

# æ›´æ–°ä¾èµ–ï¼ˆå¦‚æœæœ‰æ–°çš„ä¾èµ–ï¼‰
pip install -r requirements.txt

# é€€å‡ºè™šæ‹Ÿç¯å¢ƒ
deactivate
```

### æ­¥éª¤ 6: æ„å»ºå‰ç«¯
```bash
cd /opt/luckyred/frontend

# å®‰è£…ä¾èµ–ï¼ˆå¦‚æœæœ‰æ–°çš„ä¾èµ–ï¼‰
npm install

# æ„å»ºç”Ÿäº§ç‰ˆæœ¬
npm run build
```

### æ­¥éª¤ 7: é‡å¯æœåŠ¡

#### é‡å¯ API æœåŠ¡
```bash
sudo systemctl restart luckyred-api
```

#### é‡å¯ Bot æœåŠ¡
```bash
sudo systemctl restart luckyred-bot
```

#### é‡å¯ Nginxï¼ˆå¦‚æœéœ€è¦ï¼‰
```bash
sudo systemctl reload nginx
```

### æ­¥éª¤ 8: æ£€æŸ¥æœåŠ¡çŠ¶æ€
```bash
# æ£€æŸ¥ API æœåŠ¡
sudo systemctl status luckyred-api

# æ£€æŸ¥ Bot æœåŠ¡
sudo systemctl status luckyred-bot

# æ£€æŸ¥ Nginx æœåŠ¡
sudo systemctl status nginx
```

### æ­¥éª¤ 9: æŸ¥çœ‹æ—¥å¿—ï¼ˆå¦‚æœ‰é—®é¢˜ï¼‰
```bash
# API æ—¥å¿—
sudo journalctl -u luckyred-api -f --lines=50

# Bot æ—¥å¿—
sudo journalctl -u luckyred-bot -f --lines=50

# Nginx æ—¥å¿—
sudo tail -f /var/log/nginx/error.log
```

---

## ğŸ” éªŒè¯éƒ¨ç½²

### 1. æ£€æŸ¥å‰ç«¯æ˜¯å¦æ›´æ–°
åœ¨æµè§ˆå™¨ä¸­è®¿é—®ï¼šhttps://mini.usdt2026.cc
- æ¸…é™¤æµè§ˆå™¨ç¼“å­˜ï¼ˆCtrl+Shift+Deleteï¼‰
- å¼ºåˆ¶åˆ·æ–°ï¼ˆCtrl+F5ï¼‰
- æ£€æŸ¥æ–°åŠŸèƒ½æ˜¯å¦æ˜¾ç¤º

### 2. æµ‹è¯•åŠŸèƒ½
1. **å‘é€çº¢åŒ…é¡µé¢ - æ¸¸æˆè§„åˆ™å¼¹çª—**
   - è¿›å…¥ Wallet é¡µé¢
   - ç‚¹å‡»ã€Œç™¼ç´…åŒ…ã€æŒ‰é’®
   - æ£€æŸ¥æ¸¸æˆè§„åˆ™å¼¹çª—æ˜¯å¦è‡ªåŠ¨å¼¹å‡º
   - æ£€æŸ¥å¸ç§è¯´æ˜æ˜¯å¦æ˜¾ç¤ºä¸‰ç§ï¼ˆUSDTã€TONã€Starsï¼‰

2. **å¸ç§è·å–æ–¹å¼å¼¹çª—**
   - åœ¨å‘é€çº¢åŒ…é¡µé¢
   - ç‚¹å‡»å¸ç§æŒ‰é’®æ—çš„ â„¹ï¸ å›¾æ ‡
   - æ£€æŸ¥å¼¹çª—æ˜¯å¦æ­£ç¡®æ˜¾ç¤º

3. **å……å€¼è§„åˆ™å¼¹çª—**
   - è¿›å…¥å……å€¼é¡µé¢
   - æ£€æŸ¥æ˜¯å¦è‡ªåŠ¨å¼¹å‡ºå……å€¼è§„åˆ™å¼¹çª—
   - ç‚¹å‡»å¸ç§æ—çš„ â„¹ï¸ å›¾æ ‡æ£€æŸ¥è§„åˆ™

4. **æå–è§„åˆ™å¼¹çª—**
   - è¿›å…¥æå–é¡µé¢
   - æ£€æŸ¥æ˜¯å¦è‡ªåŠ¨å¼¹å‡ºæå–è§„åˆ™å¼¹çª—
   - ç‚¹å‡»å¸ç§æ—çš„ â„¹ï¸ å›¾æ ‡æ£€æŸ¥è§„åˆ™

---

## âš ï¸ å¸¸è§é—®é¢˜å¤„ç†

### é—®é¢˜ 1: Git æ‹‰å–å¤±è´¥
```bash
# å¼ºåˆ¶é‡ç½®åˆ°è¿œç¨‹åˆ†æ”¯
git fetch origin
git reset --hard origin/master
git clean -fd
```

### é—®é¢˜ 2: å‰ç«¯æ„å»ºå¤±è´¥
```bash
cd /opt/luckyred/frontend

# æ¸…é™¤ç¼“å­˜
rm -rf node_modules package-lock.json
npm cache clean --force

# é‡æ–°å®‰è£…å’Œæ„å»º
npm install
npm run build
```

### é—®é¢˜ 3: æœåŠ¡å¯åŠ¨å¤±è´¥
```bash
# æŸ¥çœ‹è¯¦ç»†é”™è¯¯
sudo journalctl -u luckyred-api -n 100
sudo journalctl -u luckyred-bot -n 100

# æ£€æŸ¥é…ç½®æ–‡ä»¶
cat /opt/luckyred/.env

# æ£€æŸ¥ç«¯å£å ç”¨
sudo netstat -tlnp | grep 8080
```

### é—®é¢˜ 4: å‰ç«¯æœªæ›´æ–°
```bash
# æ£€æŸ¥æ„å»ºæ–‡ä»¶æ—¶é—´
ls -lh /opt/luckyred/frontend/dist

# é‡æ–°æ„å»º
cd /opt/luckyred/frontend
npm run build

# é‡å¯ Nginx
sudo systemctl reload nginx
```

---

## ğŸ“ å¿«é€Ÿéƒ¨ç½²å‘½ä»¤ï¼ˆä¸€é”®æ‰§è¡Œï¼‰

å¦‚æœéœ€è¦å¿«é€Ÿéƒ¨ç½²ï¼Œå¯ä»¥åœ¨æœåŠ¡å™¨ä¸Šæ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼š

```bash
cd /opt/luckyred && \
git fetch origin && \
git reset --hard origin/master && \
git clean -fd && \
cd api && source .venv/bin/activate && pip install -r requirements.txt && deactivate && \
cd ../bot && source .venv/bin/activate && pip install -r requirements.txt && deactivate && \
cd ../frontend && npm install && npm run build && \
cd .. && \
sudo systemctl restart luckyred-api && \
sudo systemctl restart luckyred-bot && \
sudo systemctl reload nginx && \
echo "éƒ¨ç½²å®Œæˆï¼"
```

---

## ğŸ” æœåŠ¡å™¨ä¿¡æ¯

- **æœåŠ¡å™¨IP**: 165.154.254.99
- **ç”¨æˆ·å**: ubuntu
- **åº”ç”¨ç›®å½•**: /opt/luckyred
- **Gitä»“åº“**: https://github.com/victor2025PH/hongbao20251025.git
- **å‰ç«¯åŸŸå**: https://mini.usdt2026.cc
- **ç®¡ç†åå°**: https://admin.usdt2026.cc

---

## âœ… éƒ¨ç½²æ£€æŸ¥æ¸…å•

- [ ] æœ¬åœ°ä»£ç å·²æäº¤å¹¶æ¨é€åˆ° GitHub
- [ ] å·²è¿æ¥åˆ°æœåŠ¡å™¨
- [ ] å·²æ‹‰å–æœ€æ–°ä»£ç 
- [ ] å·²æ›´æ–°ä¾èµ–ï¼ˆå¦‚éœ€è¦ï¼‰
- [ ] å‰ç«¯å·²é‡æ–°æ„å»º
- [ ] API æœåŠ¡å·²é‡å¯
- [ ] Bot æœåŠ¡å·²é‡å¯
- [ ] Nginx å·²é‡æ–°åŠ è½½
- [ ] æœåŠ¡çŠ¶æ€æ­£å¸¸
- [ ] å‰ç«¯åŠŸèƒ½æµ‹è¯•é€šè¿‡
- [ ] æ¸…é™¤æµè§ˆå™¨ç¼“å­˜åæµ‹è¯•é€šè¿‡

---

**éƒ¨ç½²å®Œæˆåï¼Œè¯·æ¸…é™¤æµè§ˆå™¨ç¼“å­˜å¹¶æµ‹è¯•æ‰€æœ‰æ–°åŠŸèƒ½ï¼**
