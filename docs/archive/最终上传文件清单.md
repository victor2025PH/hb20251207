# 最终上传文件清单

## ✅ 已完成的修复

1. ✅ **修复按钮被底部菜单栏遮挡**（添加 `pb-24` 和 `mb-2`）
2. ✅ **统一三个页面的弹窗样式**
3. ✅ **添加 TelegramStar 星星图标**到充值和提款页面
4. ✅ **统一关闭按钮样式**（右上角 X 按钮）
5. ✅ **统一按钮样式**（橙色到红色渐变）
6. ✅ **添加翻译键**（`dont_show_again`, `currency_get_method_hint`）
7. ✅ **所有文本使用翻译函数**（支持三种语言：繁体中文、简体中文、英文）

---

## 📁 需要上传的文件（共 4 个）

### 1. Recharge.tsx（充值页面）
- **本地路径**: `C:\hbgm001\frontend\src\pages\Recharge.tsx`
- **服务器路径**: `/opt/luckyred/frontend/src/pages/Recharge.tsx`
- **修改内容**:
  - ✅ 添加 TelegramStar 星星图标到标题
  - ✅ 统一弹窗样式（与发红包页面一致）
  - ✅ 修复按钮被遮挡问题
  - ✅ 使用翻译函数

### 2. Withdraw.tsx（提取页面）
- **本地路径**: `C:\hbgm001\frontend\src\pages\Withdraw.tsx`
- **服务器路径**: `/opt/luckyred/frontend/src/pages/Withdraw.tsx`
- **修改内容**:
  - ✅ 添加 TelegramStar 星星图标到标题
  - ✅ 统一弹窗样式（与发红包页面一致）
  - ✅ 修复按钮被遮挡问题
  - ✅ 使用翻译函数

### 3. SendRedPacket.tsx（发送红包页面）
- **本地路径**: `C:\hbgm001\frontend\src\pages\SendRedPacket.tsx`
- **服务器路径**: `/opt/luckyred/frontend/src/pages/SendRedPacket.tsx`
- **修改内容**:
  - ✅ 修复按钮被遮挡问题
  - ✅ 使用翻译函数

### 4. I18nProvider.tsx（翻译文件）
- **本地路径**: `C:\hbgm001\frontend\src\providers\I18nProvider.tsx`
- **服务器路径**: `/opt/luckyred/frontend/src/providers/I18nProvider.tsx`
- **修改内容**:
  - ✅ 添加 `dont_show_again` 翻译键（三种语言）
  - ✅ 添加 `currency_get_method_hint` 翻译键（三种语言）
  - ✅ 添加简体中文的币种相关翻译

---

## 🚀 WinSCP 上传步骤

### 1. 连接到服务器
- 主机名：`165.154.254.99`
- 用户名：`ubuntu`
- 密码：您的服务器密码

### 2. 上传文件

#### 上传到 `/opt/luckyred/frontend/src/pages/` 目录：
- `Recharge.tsx`
- `Withdraw.tsx`
- `SendRedPacket.tsx`

#### 上传到 `/opt/luckyred/frontend/src/providers/` 目录：
- `I18nProvider.tsx`

---

## ✅ 上传后执行（SSH 连接服务器）

```bash
# 1. 进入前端目录
cd /opt/luckyred/frontend

# 2. 清除构建缓存
rm -rf dist node_modules/.vite

# 3. 重新构建
npm run build

# 4. 检查构建是否成功（应该没有错误）
# 如果看到 "✓ built in X.XXs" 说明成功

# 5. 重启服务
cd /opt/luckyred
sudo systemctl restart luckyred-api
sudo systemctl restart luckyred-bot
sudo systemctl reload nginx
```

---

## 🔍 验证功能

上传并构建后，请测试：

1. **发送红包页面**
   - 进入发送红包页面
   - 检查游戏规则弹窗是否自动弹出
   - 检查标题是否有 TelegramStar 星星图标
   - 检查"知道了"按钮是否不被底部菜单栏遮挡
   - 检查右上角是否有 X 关闭按钮

2. **充值页面**
   - 进入充值页面
   - 检查充值规则弹窗是否自动弹出
   - 检查标题是否有 TelegramStar 星星图标（⭐ 充值规则 ⭐）
   - 检查"知道了"按钮是否不被底部菜单栏遮挡
   - 检查右上角是否有 X 关闭按钮
   - 检查所有文本是否根据当前语言显示

3. **提取页面**
   - 进入提取页面
   - 检查提取规则弹窗是否自动弹出
   - 检查标题是否有 TelegramStar 星星图标（⭐ 提取规则 ⭐）
   - 检查"知道了"按钮是否不被底部菜单栏遮挡
   - 检查右上角是否有 X 关闭按钮
   - 检查所有文本是否根据当前语言显示

4. **语言切换测试**
   - 切换到繁体中文：检查所有文本是否正确
   - 切换到简体中文：检查所有文本是否正确
   - 切换到英文：检查所有文本是否正确

---

## 📝 统一后的样式特点

所有三个页面的规则弹窗现在都具有：

1. **统一的标题样式**:
   - 左侧：红色圆形图标（Info 图标）
   - 中间：TelegramStar 星星 + 标题文字 + TelegramStar 星星
   - 右侧：X 关闭按钮

2. **统一的弹窗样式**:
   - 背景：`bg-brand-darker`
   - 边框：`border border-white/10`
   - 最大高度：`max-h-[85vh]`
   - 底部间距：`pb-24`（防止按钮被遮挡）

3. **统一的按钮样式**:
   - 渐变：`from-orange-500 to-red-500`
   - 底部间距：`mb-2`（防止被遮挡）

4. **统一的复选框样式**:
   - 使用翻译键：`{t('dont_show_again')}`

---

## ✅ 完成清单

- [ ] 已上传 Recharge.tsx
- [ ] 已上传 Withdraw.tsx
- [ ] 已上传 SendRedPacket.tsx
- [ ] 已上传 I18nProvider.tsx
- [ ] 已清除构建缓存
- [ ] 已重新构建前端
- [ ] 构建成功（没有错误）
- [ ] 已重启服务
- [ ] 已测试所有功能
- [ ] 已测试三种语言

---

**上传完成后，请清除浏览器缓存并测试所有功能！**
