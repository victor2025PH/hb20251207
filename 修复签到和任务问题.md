# ğŸ”§ ä¿®å¤ç­¾åˆ°å’Œä»»åŠ¡æ˜¾ç¤ºé—®é¢˜

## é—®é¢˜
1. ç­¾åˆ°ä¼šå‡ºé”™
2. å„ä¸ªä»»åŠ¡æ²¡æœ‰å‡ºç°

## å·²ä¿®å¤çš„é—®é¢˜

1. âœ… **æ•°æ®åº“ä¼šè¯é—®é¢˜** - ç­¾åˆ°ã€æŠ¢çº¢åŒ…ã€å‘çº¢åŒ…æ—¶ä½¿ç”¨å·²æäº¤çš„æ•°æ®åº“ä¼šè¯å¯¼è‡´é”™è¯¯
2. âœ… **ä»»åŠ¡æ˜¾ç¤ºé—®é¢˜** - å³ä½¿åˆ›å»ºä»»åŠ¡çº¢åŒ…å¤±è´¥ï¼Œä¹Ÿåº”è¯¥æ˜¾ç¤ºä»»åŠ¡åˆ—è¡¨
3. âœ… **é”™è¯¯å¤„ç†** - æ”¹è¿›äº†é”™è¯¯å¤„ç†ï¼Œç¡®ä¿ä»»åŠ¡APIä¸ä¼šå› ä¸ºå•ä¸ªä»»åŠ¡å¤±è´¥è€Œè¿”å›ç©ºåˆ—è¡¨

## åœ¨æœåŠ¡å™¨ä¸Šæ‰§è¡Œä¿®å¤

```bash
cd /opt/luckyred

# 1. æ›´æ–°ä»£ç 
git pull origin master

# 2. é‡å¯APIæœåŠ¡
sudo systemctl restart luckyred-api
sleep 5

# 3. æ£€æŸ¥æœåŠ¡çŠ¶æ€
sudo systemctl status luckyred-api

# 4. æµ‹è¯•API
curl http://localhost:8080/api/v1/tasks/status
# åº”è¯¥è¿”å› 401 (éœ€è¦è®¤è¯) æˆ– JSON æ•°æ®
```

## æˆ–è€…ä½¿ç”¨ä¿®å¤è„šæœ¬

```bash
cd /opt/luckyred
git pull origin master
chmod +x scripts/sh/fix-checkin-and-tasks.sh
bash scripts/sh/fix-checkin-and-tasks.sh
```

## éªŒè¯ä¿®å¤

1. **æµ‹è¯•ç­¾åˆ°**
   - æ‰“å¼€MiniApp
   - å®Œæˆç­¾åˆ°
   - âœ… åº”è¯¥ä¸å†å‡ºé”™
   - âœ… è¿›å…¥ä»»åŠ¡é¡µé¢ï¼Œæ£€æŸ¥"æ¯æ—¥ç­¾åˆ°"ä»»åŠ¡æ˜¯å¦æ˜¾ç¤º

2. **æµ‹è¯•ä»»åŠ¡æ˜¾ç¤º**
   - è®¿é—® `https://mini.usdt2026.cc/tasks`
   - âœ… åº”è¯¥æ˜¾ç¤º5ä¸ªæ¯æ—¥ä»»åŠ¡
   - âœ… åº”è¯¥æ˜¾ç¤º5ä¸ªæˆå°±ä»»åŠ¡ï¼ˆå¦‚æœå·²å®Œæˆï¼‰

3. **æµ‹è¯•ä»»åŠ¡å®Œæˆ**
   - å®Œæˆç­¾åˆ°åï¼Œæ£€æŸ¥ä»»åŠ¡æ˜¯å¦è‡ªåŠ¨å®Œæˆ
   - âœ… åº”è¯¥æ˜¾ç¤º"å·²å®Œæˆ"çŠ¶æ€
   - âœ… åº”è¯¥æ˜¾ç¤º"é¢†å–"æŒ‰é’®

## å¦‚æœé—®é¢˜ä»ç„¶å­˜åœ¨

æŸ¥çœ‹APIæ—¥å¿—ï¼š

```bash
# æŸ¥çœ‹æœ€è¿‘çš„é”™è¯¯æ—¥å¿—
sudo journalctl -u luckyred-api -n 100 | grep -i error

# æŸ¥çœ‹å®æ—¶æ—¥å¿—
sudo journalctl -u luckyred-api -f
```

æ£€æŸ¥æ•°æ®åº“ï¼š

```bash
# è¿è¡Œæ•°æ®åº“æµ‹è¯•
cd /opt/luckyred/api
source .venv/bin/activate
cd /opt/luckyred
python3 scripts/py/test_tasks_api.py
```

