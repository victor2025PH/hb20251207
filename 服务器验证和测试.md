# âœ… æœåŠ¡å™¨éªŒè¯å’Œæµ‹è¯•

## ğŸ“Š å½“å‰çŠ¶æ€

ä»æµ‹è¯•ç»“æœçœ‹ï¼š
- âœ… Git pull æˆåŠŸï¼ˆä»£ç å·²æ›´æ–°ï¼‰
- âœ… APIæœåŠ¡å·²é‡å¯
- âœ… è·¯ç”±å­˜åœ¨ï¼ˆ405è¯´æ˜è·¯ç”±å·²æ³¨å†Œï¼Œåªæ˜¯HEADæ–¹æ³•ä¸æ”¯æŒï¼‰

## ğŸ§ª æ­£ç¡®æµ‹è¯•æ–¹æ³•

### 1. æµ‹è¯•ä»»åŠ¡APIï¼ˆä½¿ç”¨GETæ–¹æ³•ï¼Œä¸æ˜¯HEADï¼‰

```bash
# æ­£ç¡®ï¼šä½¿ç”¨GETæ–¹æ³•
curl http://localhost:8080/api/v1/tasks/status

# é”™è¯¯ï¼šä½¿ç”¨HEADæ–¹æ³•ï¼ˆä¼šè¿”å›405ï¼‰
curl -I http://localhost:8080/api/v1/tasks/status
```

### 2. æ£€æŸ¥å‰ç«¯APIè°ƒç”¨è·¯å¾„

å‰ç«¯åº”è¯¥è°ƒç”¨ï¼š`/api/v1/tasks/status`

æ£€æŸ¥å‰ç«¯ä»£ç ï¼š
```bash
# åœ¨æœåŠ¡å™¨ä¸Šæ£€æŸ¥
grep -r "getTaskStatus\|/v1/tasks" /opt/luckyred/frontend/src/
```

### 3. æŸ¥çœ‹APIå®æ—¶æ—¥å¿—

```bash
# æŸ¥çœ‹å®æ—¶æ—¥å¿—ï¼ˆåœ¨å¦ä¸€ä¸ªç»ˆç«¯ï¼‰
sudo journalctl -u luckyred-api -f

# ç„¶ååœ¨å‰ç«¯è®¿é—®ä»»åŠ¡é¡µé¢ï¼Œçœ‹æ—¥å¿—è¾“å‡º
```

## ğŸ” å¦‚æœå‰ç«¯æ˜¾ç¤º"Not Found"

### æ£€æŸ¥1: APIè·¯ç”±æ˜¯å¦æ­£ç¡®

```bash
# æ£€æŸ¥è·¯ç”±æ³¨å†Œ
grep -n "tasks" /opt/luckyred/api/main.py

# åº”è¯¥çœ‹åˆ°ï¼š
# app.include_router(tasks.router, prefix="/api/v1/tasks", tags=["ä»»å‹™"])
```

### æ£€æŸ¥2: å‰ç«¯APIè°ƒç”¨è·¯å¾„

å‰ç«¯åº”è¯¥è°ƒç”¨ï¼š`/api/v1/tasks/status`

å¦‚æœå‰ç«¯è°ƒç”¨çš„æ˜¯ `/v1/tasks/status`ï¼ˆæ²¡æœ‰ `/api` å‰ç¼€ï¼‰ï¼Œéœ€è¦æ£€æŸ¥å‰ç«¯APIé…ç½®ã€‚

### æ£€æŸ¥3: æµ‹è¯•APIè¿”å›å†…å®¹

```bash
# ä½¿ç”¨GETæ–¹æ³•æµ‹è¯•ï¼ˆéœ€è¦è®¤è¯ï¼Œè¿”å›401æ˜¯æ­£å¸¸çš„ï¼‰
curl http://localhost:8080/api/v1/tasks/status

# å¦‚æœè¿”å›JSONï¼Œè¯´æ˜APIæ­£å¸¸
# å¦‚æœè¿”å›404ï¼Œè¯´æ˜è·¯ç”±æœ‰é—®é¢˜
```

## ğŸš€ å®Œæ•´éªŒè¯æ­¥éª¤

```bash
cd /opt/luckyred

# 1. ç¡®è®¤ä»£ç å·²æ›´æ–°
git log --oneline -5

# 2. æµ‹è¯•APIï¼ˆGETæ–¹æ³•ï¼‰
curl http://localhost:8080/api/v1/tasks/status
# åº”è¯¥è¿”å› 401 æˆ– JSON æ•°æ®

# 3. æ£€æŸ¥è·¯ç”±æ³¨å†Œ
grep -n "tasks.router" api/main.py

# 4. æ£€æŸ¥å‰ç«¯æ–‡ä»¶
ls -la frontend/src/pages/TasksPage.tsx
ls -la frontend/dist/index.html

# 5. æŸ¥çœ‹APIæ—¥å¿—
sudo journalctl -u luckyred-api -n 50 | tail -20
```

## ğŸ“± å‰ç«¯æµ‹è¯•

1. æ‰“å¼€æµè§ˆå™¨å¼€å‘è€…å·¥å…·ï¼ˆF12ï¼‰
2. è®¿é—®ï¼š`https://mini.usdt2026.cc/tasks`
3. æŸ¥çœ‹Networkæ ‡ç­¾ï¼Œæ£€æŸ¥APIè¯·æ±‚ï¼š
   - è¯·æ±‚URLåº”è¯¥æ˜¯ï¼š`https://mini.usdt2026.cc/api/v1/tasks/status`
   - å¦‚æœè¿”å›404ï¼Œæ£€æŸ¥è¯·æ±‚è·¯å¾„
   - å¦‚æœè¿”å›401ï¼Œè¯´æ˜APIæ­£å¸¸ï¼ˆéœ€è¦è®¤è¯ï¼‰

## ğŸ› å¸¸è§é—®é¢˜

### é—®é¢˜1: å‰ç«¯æ˜¾ç¤º"Not Found"

**å¯èƒ½åŸå› **ï¼š
- APIè·¯ç”±æœªæ­£ç¡®æ³¨å†Œ
- å‰ç«¯APIè°ƒç”¨è·¯å¾„é”™è¯¯
- Nginxé…ç½®é—®é¢˜

**è§£å†³**ï¼š
```bash
# æ£€æŸ¥APIè·¯ç”±
grep -n "tasks" /opt/luckyred/api/main.py

# æ£€æŸ¥å‰ç«¯APIè°ƒç”¨
grep -r "/v1/tasks" /opt/luckyred/frontend/src/

# æ£€æŸ¥Nginxé…ç½®
nginx -t
sudo systemctl status nginx
```

### é—®é¢˜2: APIè¿”å›404

**è§£å†³**ï¼š
```bash
# é‡å¯APIæœåŠ¡
sudo systemctl restart luckyred-api

# æ£€æŸ¥APIæ—¥å¿—
sudo journalctl -u luckyred-api -n 100 | grep -i error
```

